/**
 * Created by John on 2016/12/6.
 */
'use strict';
//describe('Dreawer.SDKs test ', function(){
//    beforeEach(module('myApp'));
//    it('historyCtrl should be defined', inject(function($rootScope,$controller) {
//        //spec body
//        var scope,homeCtrl;
//        scope = $rootScope.$new();
//        homeCtrl = $controller('historyCtrl',{$scope:scope});
//        expect(homeCtrl).toBeDefined();
//    }));
//});

describe('Dreawer.SDKs test ', function(){
    var scope,historyCtrl,$httpBackend,stateParams;
    beforeEach(module('myApp'));
    beforeEach(inject(function($rootScope,$controller,_$httpBackend_) {
        //spec body
        scope = $rootScope.$new();
        historyCtrl = $controller('historyCtrl',{$scope:scope,$stateParams:stateParams});
        $httpBackend = _$httpBackend_;
        $httpBackend.whenGET('src/recommend/home.html').respond("200",{});
        $httpBackend.whenGET('/track').respond({"data":{"tracks":[{"id":"8d75650e41f549a3a690275e4756b504","remark":null,"customer":{"id":"471fbc66f62d4aa19edef29ca9377371","remark":null,"name":"肖承荫","alias":"xiao-ruo-tian-he-1","slogan":"????????","intro":null,"email":"sdanly1@yahoo.com.cn","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"肖承荫","age":null,"gender":null,"birthday":null,"photo":"/resource/customer/photo/sdanly.jpeg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"content":{"id":"04c2898009ac103583ab4799290088aa","remark":null,"tags":[],"title":"Mybatis高级特性学习(三)","status":"DEFAULT","summary":"缓存、缓存测试和缓存应用","detail":"什么是查询缓存\r\nMybatis提供查询缓存，提高查询效率，降低数据库压力\r\nMybatis缓存分为一级缓存、二级缓存\r\n一级缓存：\r\n在操作数据库时，需要构造SqlSession对象，在对象中有一块内存区域：hashMap,用于存储缓存数据。\r\n注：不同sqlsession之间的缓存区域是互不影响的\r\n二级缓存：\r\nmapper级别的缓存，多个sqlSession去操作同一个mapper的SQL语句，多个sqlSession去操作数据库得到的数据库会存储在二级缓存区域。二级缓存是跨session的。","score":4.0,"type":null,"originUrl":null,"commentsCount":null,"sharesCount":null,"viewsCount":null,"creater":{"id":null,"remark":null,"username":null,"password":null,"email":null,"me":{"id":"a7ddfa0cd4fa4feba4c60b370052634d","remark":null,"name":"戴炜","alias":"chi-hu-1","slogan":null,"intro":null,"email":"daviddai2008@qq.com","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"赤虎","age":null,"gender":null,"birthday":null,"photo":"/resource/person/chi-hu-1/photo/mugshot/4954D0D5D519F9BD89F83BC9D85E9240.jpg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"identity":{"id":"a7ddfa0cd4fa4feba4c60b370052634d","remark":null,"name":"戴炜","alias":"chi-hu-1","slogan":null,"intro":null,"email":"daviddai2008@qq.com","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"赤虎","age":null,"gender":null,"birthday":null,"photo":"/resource/person/chi-hu-1/photo/mugshot/4954D0D5D519F9BD89F83BC9D85E9240.jpg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"roles":[],"passwordDueDate":null,"passwordErrorTimes":null,"inviter":null,"status":null,"inviteTime":null,"createTime":null,"updateTime":null,"realClass":"com.dreawer.qa.domain.accounts.User","realClassName":"User","proxyObject":false},"createTime":1480661542000,"updater":null,"updateTime":null,"category":"article","realClass":"com.dreawer.sdk.domain.Article","realClassName":"Article","proxyObject":false},"category":"article","createTime":1481271643000,"realClass":"com.dreawer.sdk.domain.Track","realClassName":"Track","proxyObject":false},{"id":"36d9d37c7e5e4a8ab702e96029f325c2","remark":null,"customer":{"id":"471fbc66f62d4aa19edef29ca9377371","remark":null,"name":"肖承荫","alias":"xiao-ruo-tian-he-1","slogan":"????????","intro":null,"email":"sdanly1@yahoo.com.cn","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"肖承荫","age":null,"gender":null,"birthday":null,"photo":"/resource/customer/photo/sdanly.jpeg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"content":{"id":"8e89e3dd09ad103583ab4799290088aa","remark":null,"tags":[],"title":"hibernate的缓存机制","status":"DEFAULT","summary":"缓存是介于应用程序和物理数据源之间，缓存内的数据是对物理数据源中的数据的复制，其作用是为了降低应用程序对物理数据源访问的频次，从而提高了应用的运行性能。","detail":"1.缓存的范围：\r\n\r\n1.1 事务范围：缓存只能被当前事务访问。缓存的生命周期依赖于事务的生命周期，当事务结束时，缓存也就结束生命周期。在此范围下，缓存的介质是内存。事务可以是数据库事务或者应用事务，每个事务都有独自的缓存，缓存内的数据通常采用相互关联的的对象形式。\r\n\r\n1.2进程范围：缓存被进程内的所有事务共享。这些事务有可能是并发访问缓存，因此必须对缓存采取必要的事务隔离机制。缓存的生命周期依赖于进程的生命周期，进程结束时，缓存也就结束了生命周期。进程范围的缓存可能会存放大量的数据，所以存放的介质可以是内存或硬盘。缓存内的数据既可以是相互关联的对象形式也可以是对象的松散数据形式。松散的对象数据形式有点类似于对象的序列化数据，但是对象分解为松散的算法比对象序列化的算法要求更快。\r\n\r\n1.3 集群范围：在集群环境中，缓存被一个机器或者多个机器的进程共享。缓存中的数据被复制到集群环境中的每个进程节点，进程间通过远程通信来保证缓存中的数据的一致性，缓存中的数据通常采用对象的松散数据形式。","score":4.0,"type":null,"originUrl":null,"commentsCount":null,"sharesCount":null,"viewsCount":null,"creater":{"id":null,"remark":null,"username":null,"password":null,"email":null,"me":{"id":"471fbc66f62d4aa19edef29ca9377371","remark":null,"name":"肖承荫","alias":"xiao-ruo-tian-he-1","slogan":"????????","intro":null,"email":"sdanly1@yahoo.com.cn","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"肖承荫","age":null,"gender":null,"birthday":null,"photo":"/resource/customer/photo/sdanly.jpeg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"identity":{"id":"471fbc66f62d4aa19edef29ca9377371","remark":null,"name":"肖承荫","alias":"xiao-ruo-tian-he-1","slogan":"????????","intro":null,"email":"sdanly1@yahoo.com.cn","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"肖承荫","age":null,"gender":null,"birthday":null,"photo":"/resource/customer/photo/sdanly.jpeg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"roles":[],"passwordDueDate":null,"passwordErrorTimes":null,"inviter":null,"status":null,"inviteTime":null,"createTime":null,"updateTime":null,"realClass":"com.dreawer.qa.domain.accounts.User","realClassName":"User","proxyObject":false},"createTime":1480662207000,"updater":null,"updateTime":null,"category":"article","realClass":"com.dreawer.sdk.domain.Article","realClassName":"Article","proxyObject":false},"category":"article","createTime":1481269329000,"realClass":"com.dreawer.sdk.domain.Track","realClassName":"Track","proxyObject":false},{"id":"411bfb08ff9b4e48b6ba9f2fdb29e501","remark":null,"customer":{"id":"471fbc66f62d4aa19edef29ca9377371","remark":null,"name":"肖承荫","alias":"xiao-ruo-tian-he-1","slogan":"????????","intro":null,"email":"sdanly1@yahoo.com.cn","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"肖承荫","age":null,"gender":null,"birthday":null,"photo":"/resource/customer/photo/sdanly.jpeg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"content":{"id":"5b6191aa09b0103583ab4799290088aa","remark":null,"name":"Quartz","alias":"Quartz-1","slogan":"这是一条标语！","intro":"这是SDK的描述部分，多余的文字可以隐藏，通过更多来展开和收起。内容要长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长。","email":"test@dreawer.com","addresses":[],"homepage":null,"behavior":null,"category":"sdk","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":1,"status":"SIGNUPED","creater":null,"createTime":1480663404000,"updater":null,"updateTime":null,"experts":null,"tags":null,"shortName":"Quartz","logo":null,"owner":null,"tagsCount":null,"questionsCount":0,"answeredQuestionsCount":null,"viewsCount":null,"sharesCount":null,"articlesCount":8,"lastAskTime":null,"lastViewTime":null,"certificationStatus":null,"version":null,"code":null,"score":0.0,"document":null,"isFollowed":true,"commentsCount":0,"person":false,"team":false,"product":false,"realClass":"com.dreawer.sdk.domain.Sdk","realClassName":"Sdk","proxyObject":false},"category":"sdk","createTime":1481183867000,"realClass":"com.dreawer.sdk.domain.Track","realClassName":"Track","proxyObject":false},{"id":"d31a8190441e4fe7af32fcb7e91391a5","remark":null,"customer":{"id":"471fbc66f62d4aa19edef29ca9377371","remark":null,"name":"肖承荫","alias":"xiao-ruo-tian-he-1","slogan":"????????","intro":null,"email":"sdanly1@yahoo.com.cn","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"肖承荫","age":null,"gender":null,"birthday":null,"photo":"/resource/customer/photo/sdanly.jpeg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"content":{"id":"9acb1b3d09ac103583ab4799290088aa","remark":null,"tags":[],"title":"Spring 3整合Quartz 2实现定时任务二：动态添加任务","status":"DEFAULT","summary":"前面，我们已经对Spring 3和Quartz 2用配置文件的方式进行了整合，如果需求比较简单的话应该已经可以满足了。但是很多时候，我们常常会遇到需要动态的添加或修改任务，而spring中所提供的定时任务组件却只能够通过修改xml中trigger的配置才能控制定时任务的时间以及任务的启用或停止，这在带给我们方便的同时也失去了动态配置任务的灵活性。我搜索了一些网上的解决方法，都没有很好的解决这个问题，而且大多数提到的解决方案都停留在Quartz 1.x系列版本上，所用到的代码和API已经不能适用于新版本的Spring和Quartz。没办法只能靠自己了，花了点时间好好研究了一下Spring和Quartz中相关的代码。","detail":"前面，我们已经对Spring 3和Quartz 2用配置文件的方式进行了整合，如果需求比较简单的话应该已经可以满足了。但是很多时候，我们常常会遇到需要动态的添加或修改任务，而spring中所提供的定时任务组件却只能够通过修改xml中trigger的配置才能控制定时任务的时间以及任务的启用或停止，这在带给我们方便的同时也失去了动态配置任务的灵活性。我搜索了一些网上的解决方法，都没有很好的解决这个问题，而且大多数提到的解决方案都停留在Quartz 1.x系列版本上，所用到的代码和API已经不能适用于新版本的Spring和Quartz。没办法只能靠自己了，花了点时间好好研究了一下Spring和Quartz中相关的代码。","score":5.0,"type":null,"originUrl":null,"commentsCount":null,"sharesCount":null,"viewsCount":null,"creater":{"id":null,"remark":null,"username":null,"password":null,"email":null,"me":{"id":"a7ddfa0cd4fa4feba4c60b370052634d","remark":null,"name":"戴炜","alias":"chi-hu-1","slogan":null,"intro":null,"email":"daviddai2008@qq.com","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"赤虎","age":null,"gender":null,"birthday":null,"photo":"/resource/person/chi-hu-1/photo/mugshot/4954D0D5D519F9BD89F83BC9D85E9240.jpg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"identity":{"id":"a7ddfa0cd4fa4feba4c60b370052634d","remark":null,"name":"戴炜","alias":"chi-hu-1","slogan":null,"intro":null,"email":"daviddai2008@qq.com","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"赤虎","age":null,"gender":null,"birthday":null,"photo":"/resource/person/chi-hu-1/photo/mugshot/4954D0D5D519F9BD89F83BC9D85E9240.jpg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"roles":[],"passwordDueDate":null,"passwordErrorTimes":null,"inviter":null,"status":null,"inviteTime":null,"createTime":null,"updateTime":null,"realClass":"com.dreawer.qa.domain.accounts.User","realClassName":"User","proxyObject":false},"createTime":1480661791000,"updater":null,"updateTime":null,"category":"article","realClass":"com.dreawer.sdk.domain.Article","realClassName":"Article","proxyObject":false},"category":"article","createTime":1481183626000,"realClass":"com.dreawer.sdk.domain.Track","realClassName":"Track","proxyObject":false},{"id":"e342a3a980c04c8687e563732b310778","remark":null,"customer":{"id":"471fbc66f62d4aa19edef29ca9377371","remark":null,"name":"肖承荫","alias":"xiao-ruo-tian-he-1","slogan":"????????","intro":null,"email":"sdanly1@yahoo.com.cn","addresses":[],"homepage":null,"behavior":null,"category":"person","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":null,"status":null,"creater":null,"createTime":null,"updater":null,"updateTime":null,"petName":"肖承荫","age":null,"gender":null,"birthday":null,"photo":"/resource/customer/photo/sdanly.jpeg","person":true,"team":false,"product":false,"realClass":"com.dreawer.qa.domain.accounts.Person","realClassName":"Person","proxyObject":false},"content":{"id":"922b35b509b0103583ab4799290088aa","remark":null,"name":"Pinyin4j","alias":"Pinyin4j-1","slogan":"这是一条标语！","intro":"这是SDK的描述部分，多余的文字可以隐藏，通过更多来展开和收起。内容要长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长长。","email":"test@dreawer.com","addresses":[],"homepage":null,"behavior":null,"category":"sdk","inviteMax":null,"inviteCount":null,"signUpStep":null,"creatable":null,"followers":null,"followersCount":1,"status":"SIGNUPED","creater":null,"createTime":1480663493000,"updater":null,"updateTime":null,"experts":null,"tags":null,"shortName":"Pinyin4j","logo":null,"owner":null,"tagsCount":null,"questionsCount":0,"answeredQuestionsCount":null,"viewsCount":null,"sharesCount":null,"articlesCount":3,"lastAskTime":null,"lastViewTime":null,"certificationStatus":null,"version":null,"code":null,"score":0.0,"document":null,"isFollowed":true,"commentsCount":0,"person":false,"team":false,"product":false,"realClass":"com.dreawer.sdk.domain.Sdk","realClassName":"Sdk","proxyObject":false},"category":"sdk","createTime":1481168613000,"realClass":"com.dreawer.sdk.domain.Track","realClassName":"Track","proxyObject":false}],"type":"track"},"status":true,"errors":[]});
    }));

    it('historyCtrl已加载并定义',function(){
        expect(historyCtrl).toBeDefined();
    });
    it('articleDetailCtrlSpec请求调用足迹列表接口', function() {
        $httpBackend.expectGET('/track');
        $httpBackend.flush();
        expect($httpBackend.expectGET('/track').respond('200'));
    });


});
